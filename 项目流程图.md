# CNN学习项目流程图

以下流程图使用Mermaid语法描述了CNN网络学习Ackley和Rosenbrock函数的整体流程和当前进展。

## 主流程图

```mermaid
graph TD
    A[开始] --> B[数据理解与分析]
    B --> C[数据预处理]
    C --> D[模型设计]
    D --> E[模型训练]
    E --> F[模型评估]
    F --> G{性能达标?}
    G -->|否| H[模型调优]
    H --> D
    G -->|是| I[结果分析与总结]
    I --> J[结束]
    
    %% 当前进度标记
    style A fill:#d0f0c0,stroke:#333,stroke-width:2px
    style B fill:#90EE90,stroke:#333,stroke-width:2px
    style C fill:#90EE90,stroke:#333,stroke-width:2px
    style D fill:#90EE90,stroke:#333,stroke-width:2px
    style E fill:#90EE90,stroke:#333,stroke-width:2px
    style F fill:#FFD700,stroke:#333,stroke-width:2px
    style G fill:#FFD700,stroke:#333,stroke-width:2px
    style H fill:#FFD700,stroke:#333,stroke-width:2px
    style I fill:#FFFFFF,stroke:#333,stroke-width:2px
    style J fill:#FFFFFF,stroke:#333,stroke-width:2px
    
    %% 添加进度说明
    classDef completed fill:#90EE90,stroke:#333,stroke-width:2px;
    classDef inProgress fill:#FFD700,stroke:#333,stroke-width:2px;
    classDef pending fill:#FFFFFF,stroke:#333,stroke-width:2px;
```

## 数据处理流程

```mermaid
flowchart TD
    A[原始数据] --> B[数据加载]
    B --> C[数据分析与可视化]
    C --> D[数据预处理]
    D --> E{是否增强数据?}
    E -->|是| F[数据增强]
    F --> G[创建数据加载器]
    E -->|否| G
    G --> H[训练集]
    G --> I[测试集]
    
    style A fill:#f9d5e5,stroke:#333,stroke-width:2px
    style E fill:#ffd700,stroke:#333,stroke-width:2px
    style H fill:#b5ead7,stroke:#333,stroke-width:2px
    style I fill:#b5ead7,stroke:#333,stroke-width:2px
```

## 模型开发流程

```mermaid
flowchart TD
    A[模型设计] --> B[基础CNN模型]
    A --> C[高级CNN模型]
    
    B --> D[训练与优化]
    C --> D
    
    D --> E[模型评估]
    E --> F{性能比较}
    
    F --> G[基础模型性能]
    F --> H[高级模型性能]
    
    G --> I{达标检查}
    H --> I
    
    I -->|未达标| J[超参数调优]
    J --> K[架构优化]
    K --> B
    
    I -->|达标| L[最终模型]
    
    style A fill:#ffe6cc,stroke:#333,stroke-width:2px
    style F fill:#ffd700,stroke:#333,stroke-width:2px
    style I fill:#ffd700,stroke:#333,stroke-width:2px
    style L fill:#b5ead7,stroke:#333,stroke-width:2px
```

## 训练循环流程

```mermaid
flowchart TD
    A[开始训练] --> B[初始化模型与优化器]
    B --> C[训练循环]
    C --> D[批量处理]
    D --> E[前向传播]
    E --> F[计算损失]
    F --> G[反向传播]
    G --> H[优化器更新]
    H --> I{批次结束?}
    I -->|否| D
    I -->|是| J[验证模型]
    J --> K{性能改进?}
    K -->|是| L[保存最佳模型]
    K -->|否| M{早停检查}
    L --> M
    M -->|继续| N{Epoch结束?}
    N -->|否| C
    N -->|是| O[训练完成]
    M -->|停止| O
    
    style A fill:#d0f0c0,stroke:#333,stroke-width:2px
    style I fill:#ffd700,stroke:#333,stroke-width:2px
    style K fill:#ffd700,stroke:#333,stroke-width:2px
    style M fill:#ffd700,stroke:#333,stroke-width:2px
    style N fill:#ffd700,stroke:#333,stroke-width:2px
    style O fill:#d0f0c0,stroke:#333,stroke-width:2px
```

## 项目文件关系图

```mermaid
flowchart TD
    A[数据文件] -->|加载| B[utils/data_processing.py]
    B -->|预处理数据| C[models/advanced_cnn_model.py]
    B -->|预处理数据| D[models/cnn_model.py]
    
    C -->|训练模型| E[models/compare_models.py]
    D -->|训练模型| E
    
    E -->|评估结果| F[analysis/model_visualization.py]
    E -->|评估结果| G[analysis/model_explanation.py]
    
    H[analysis/hyperparameter_tuning.py] -->|优化参数| C
    H -->|优化参数| D
    
    I[scripts/run_pipeline.py] -->|执行| B
    I -->|执行| C
    I -->|执行| D
    I -->|执行| E
    I -->|执行| F
    I -->|执行| G
    I -->|执行| H
    
    style A fill:#f9d5e5,stroke:#333,stroke-width:2px
    style I fill:#ffe6cc,stroke:#333,stroke-width:2px
```

## 项目执行时间线

```mermaid
gantt
    title CNN项目实施时间线
    dateFormat  YYYY-MM-DD
    section 数据阶段
    数据理解与分析    :a1, 2025-03-02, 2d
    数据预处理        :a2, after a1, 2d
    section 模型阶段
    基础模型设计      :b1, after a2, 2d
    基础模型训练      :b2, after b1, 1d
    高级模型设计      :b3, after b2, 3d
    高级模型训练      :b4, after b3, 2d
    section 评估与优化
    模型评估          :c1, after b4, 1d
    超参数调优        :c2, after c1, 3d
    模型比较          :c3, after c2, 1d
    section 总结
    结果分析          :d1, after c3, 1d
    报告编写          :d2, after d1, 2d
```

## 评估指标优化流程

```mermaid
flowchart TD
    A[原始评估指标] --> B[识别尺度问题]
    B --> C[引入归一化MSE]
    C --> D[实现多指标评估]
    D --> E[标准化结果记录]
    E --> F[性能对比分析]
    
    %% 当前进度标记
    style A fill:#90EE90,stroke:#333,stroke-width:2px
    style B fill:#90EE90,stroke:#333,stroke-width:2px
    style C fill:#90EE90,stroke:#333,stroke-width:2px
    style D fill:#90EE90,stroke:#333,stroke-width:2px
    style E fill:#FFD700,stroke:#333,stroke-width:2px
    style F fill:#FFD700,stroke:#333,stroke-width:2px
```

## 模型优化流程

```mermaid
flowchart TD
    A[基础模型评估] --> B[识别性能差异]
    B --> C[归一化指标分析]
    C --> D[模型调优策略]
    D --> E[Ackley模型优化]
    E --> F[Rosenbrock模型优化]
    F --> G[结果验证]
    
    %% 当前进度标记
    style A fill:#90EE90,stroke:#333,stroke-width:2px
    style B fill:#90EE90,stroke:#333,stroke-width:2px
    style C fill:#90EE90,stroke:#333,stroke-width:2px
    style D fill:#FFD700,stroke:#333,stroke-width:2px
    style E fill:#FFD700,stroke:#333,stroke-width:2px
    style F fill:#FFFFFF,stroke:#333,stroke-width:2px
    style G fill:#FFFFFF,stroke:#333,stroke-width:2px
```

## 结果记录流程

```mermaid
flowchart TD
    A[评估结果收集] --> B[指标标准化]
    B --> C[结果文件格式化]
    C --> D[性能可视化]
    D --> E[文档更新]
    E --> F[最佳实践总结]
    
    %% 当前进度标记
    style A fill:#90EE90,stroke:#333,stroke-width:2px
    style B fill:#90EE90,stroke:#333,stroke-width:2px
    style C fill:#90EE90,stroke:#333,stroke-width:2px
    style D fill:#FFD700,stroke:#333,stroke-width:2px
    style E fill:#FFD700,stroke:#333,stroke-width:2px
    style F fill:#FFFFFF,stroke:#333,stroke-width:2px
```

## 颜色说明
- 🟢 绿色(#90EE90): 已完成
- 🟡 黄色(#FFD700): 进行中
- ⚪ 白色(#FFFFFF): 待完成

## 当前进度说明

1. **已完成的任务**
   - 数据理解与分析
   - 基础模型实现
   - 评估指标体系建立
   - 归一化MSE实现
   - 结果记录标准化

2. **进行中的任务**
   - 模型性能优化
   - 评估结果可视化
   - 文档更新与完善

3. **待完成的任务**
   - Ackley函数模型性能提升
   - 完整的可视化分析
   - 最终实验报告编写 